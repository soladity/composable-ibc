name: Test

on:
  pull_request:
    branches:
      - '*'

jobs:
  tests:
    name: Composable Test
    #container:
    #  image: composablefi/composable-sandbox:latest
    runs-on: [ubuntu-latest]
    steps:
    - uses: actions/checkout@v2

    - name: Build the stack
      run: docker-compose up -d && cargo test

    #- name: Run Test
    #  uses: docker://composablefi/ci-linux:production
    #  with: 
    #    args: cargo test